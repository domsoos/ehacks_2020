<!DOCTYPE html>
<html>
<head>
	<title>Eye Diagnosis</title>
	<link href="https://fonts.googleapis.com/css2?family=Notable&display=swap" rel="stylesheet">
	<link href = "styles.css" rel = "stylesheet" type = "">
	<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
	
	<script type = "text/javascript">	
		let sources = ["main"];
		
		for (let index = 0; index < sources.length; index ++) {
			let script = document.createElement("script");
			script.setAttribute("type", "text/javascript");
			script.setAttribute("src", String(sources[index] + ".js"));
			document.head.appendChild(script);
		}
		function setResult(val){
			let p = val * 100;
			let el = document.getElementById("textResult");
			if(0.8 < val && val <= 1){
				el.innerHTML = "Healthy as a COW<br>"+p+"%, Spectacular!"
			} else if(0.6 < val && val <= 0.8){
				el.innerHTML = "You are eating just enough apples every day. A little less and the doctor won't stay away<br>"+p+"%";
			} else if(-0.6 < val && val <= .6){
				el.innerHTML = "Try smudging your face on the screen like your favorite treat is on the other side"+p+"%";
			} else if(-0.8 < val && val <= -.6){
				el.innerHTML = "Do you feel sick? You look sick"+p+"%";
			} else if(-1 < val && val <= -.8){
				el.innerHTML = "Eat some vegetables for once. Jeez just look at that spot on your eye!"+p+"%";
			} else{ 
				el.innerHTML = "Looks like there is an error.<br>@Developers please make sure the input value ranges from -1 to 1";
			}
		}
		function resize(){
			// lol does nothing
			/*
			let vid = document.getElementById("video");
			let canvas = document.getElementById("canvas");
			let width = vid.videoHeight * 640/480;
		//	canvas.style.width = width;
			vid.videoWidth = width;*/
		}
		function loadEyeBall(){
			if(Math.random()  > 0.5){
				document.getElementById("eey").src = "https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fpurepng.com%2Fpublic%2Fuploads%2Flarge%2Fpurepng.com-eyeeyesorgans-of-the-visual-systemorganisms-visionoptical-systemlightfocuseslensclipart-1421526883367hqo5x.png&f=1&nofb=1";
				
			}
		}
		function takePicture(){
			document.getElementById("camera-page").style.display = "none";
			document.getElementById("results-page").style.display = "block";

		}
    </script>
</head>
<body onresize="resize()">
	<div id="head-page">
		<!-- <button id="begin-button" href="#camera-page" onclick="alert('yooo stop pressing my buttons!');"> -->
		<button id="begin-button" href="#camera-page" onclick="location.hash = '#camera-page';">
			<img id="eey" onload="loadEyeBall();" src="https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fpurepng.com%2Fpublic%2Fuploads%2Flarge%2Fpurepng.com-eyeseyesorgans-of-the-visual-systemorganisms-visionoptical-systemlightfocuseslensclipart-1421526883500k8ju0.png&f=1&nofb=1"/>
		</button>
	</div>
	<div id="play-page">
		<div id="results-page">
			<a id="textResult">Your eyes... they look... BROWN</a>
			<div id="my_eyes_are_red">
				<canvas id="canvas" width="320" height="280"></canvas>
				<image id="eye_chart" src = "https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2F4.bp.blogspot.com%2F-XoCPs82fiys%2FVePw_b5Q2AI%2FAAAAAAAAC24%2F_W-V5lX7JRk%2Fs1600%2Feyes%252B15.jpg&f=1&nofb=1">
			</div>
		</div>
		<div id="camera-page">
			<div id="video-container">
				<video id="video"  autoplay></video>
			</div>

			<button id="snap" onclick="takePicture()">
				<img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fupload.wikimedia.org%2Fwikipedia%2Fcommons%2Fthumb%2Fc%2Fc3%2FCircle-icons-camera.svg%2F1024px-Circle-icons-camera.svg.png&f=1&nofb=1"/>
			</button>
		</div>
	</div>
	<div id="text-page">
		<p>The eyes are the mirror to the soul</p>
	</div>

	<div id="contact">
		<p>Lama</p>
	</div>
	<div id = "credits">
		<a href="https://icons8.com/icon/42866/eye">Eye icon by Icons8</a>
	</div>
</body>
</html>